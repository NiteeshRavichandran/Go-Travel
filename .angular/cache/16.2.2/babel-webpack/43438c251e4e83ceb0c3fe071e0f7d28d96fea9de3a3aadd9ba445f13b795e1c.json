{"ast":null,"code":"var _class;\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../auth.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction LoginComponent_span_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 19);\n    i0.ɵɵtext(1, \"Please Enter a valid UserName!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_span_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 19);\n    i0.ɵɵtext(1, \"Please Enter a valid Password!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_span_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r2.errorMessage);\n  }\n}\nexport class LoginComponent {\n  constructor(router, authService) {\n    this.router = router;\n    this.authService = authService;\n  }\n  ngOnInit() {\n    this.loginForm = new FormGroup({\n      username: new FormControl(null, [Validators.email, Validators.required]),\n      password: new FormControl(null, [Validators.pattern('^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@#$%^&+=!])[a-zA-Z0-9@#$%^&+=!]{8,}$'), Validators.required])\n    });\n  }\n  onSubmit() {\n    if (this.loginForm.valid) {\n      // this.router.navigate(['/login']);\n      // this.loggedIn=true;\n      const email = this.loginForm.value.username;\n      const password = this.loginForm.value.password;\n      this.authService.signIn(email, password).subscribe(resData => {\n        console.log(resData);\n        this.router.navigate(['/user']);\n      }, error => {\n        // console.log(error);\n        this.errorMessage = error;\n        this.loginForm.reset();\n      });\n    }\n  }\n}\n_class = LoginComponent;\n_class.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-login\"]],\n  decls: 32,\n  vars: 4,\n  consts: [[1, \"login-container\"], [\"src\", \"../assets/bus-white.jpg\", \"alt\", \"bus\", 1, \"roll\"], [1, \"logo\"], [3, \"formGroup\", \"submit\"], [1, \"login-form\"], [1, \"navbar\", \"navbar-expand\", \"navbar-light\"], [1, \"navbar-nav\"], [\"routerLinkActive\", \"active\", 1, \"nav-item\"], [\"routerLink\", \"/login\", 1, \"nav-link\"], [\"routerLink\", \"/signup\", 1, \"nav-link\"], [\"routerLink\", \"/adminLogin\", 1, \"nav-link\"], [1, \"form-group\"], [\"for\", \"username\"], [\"type\", \"text\", \"id\", \"username\", \"formControlName\", \"username\", \"placeholder\", \"Enter your email\", 1, \"form-control\"], [\"class\", \"help-block\", 4, \"ngIf\"], [\"for\", \"password\"], [\"type\", \"password\", \"id\", \"password\", \"formControlName\", \"password\", \"placeholder\", \"Enter your Password\", 1, \"form-control\"], [1, \"btn-container\"], [\"type\", \"submit\", 1, \"btn\", \"btn-dark\"], [1, \"help-block\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"img\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵtext(3, \"Go Travel\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\")(5, \"form\", 3);\n      i0.ɵɵlistener(\"submit\", function LoginComponent_Template_form_submit_5_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(6, \"div\", 4)(7, \"nav\", 5)(8, \"ul\", 6)(9, \"li\", 7)(10, \"a\", 8);\n      i0.ɵɵtext(11, \"Login\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"li\", 7)(13, \"a\", 9);\n      i0.ɵɵtext(14, \"Sign Up\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"li\", 7)(16, \"a\", 10);\n      i0.ɵɵtext(17, \"Admin\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(18, \"div\", 11)(19, \"label\", 12);\n      i0.ɵɵtext(20, \"User Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(21, \"input\", 13);\n      i0.ɵɵtemplate(22, LoginComponent_span_22_Template, 2, 0, \"span\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"div\", 11)(24, \"label\", 15);\n      i0.ɵɵtext(25, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(26, \"input\", 16);\n      i0.ɵɵtemplate(27, LoginComponent_span_27_Template, 2, 0, \"span\", 14);\n      i0.ɵɵtemplate(28, LoginComponent_span_28_Template, 2, 1, \"span\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"div\", 17)(30, \"button\", 18);\n      i0.ɵɵtext(31, \"Login\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      let tmp_1_0;\n      let tmp_2_0;\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"ngIf\", !((tmp_1_0 = ctx.loginForm.get(\"username\")) == null ? null : tmp_1_0.valid) && ((tmp_1_0 = ctx.loginForm.get(\"username\")) == null ? null : tmp_1_0.touched));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", !((tmp_2_0 = ctx.loginForm.get(\"password\")) == null ? null : tmp_2_0.valid) && ((tmp_2_0 = ctx.loginForm.get(\"password\")) == null ? null : tmp_2_0.touched));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n    }\n  },\n  dependencies: [i3.NgIf, i1.RouterLink, i1.RouterLinkActive, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName],\n  styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n\\n \\tvar __webpack_modules__ = ({\\n\\n\\n 805:\\n\\n\\n\\n\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/sass-loader/dist/cjs.js):\\\\nexpected \\\\\\\"}\\\\\\\".\\\\n   \\u2577\\\\n69 \\u2502   }\\\\r\\\\n   \\u2502    ^\\\\n   \\u2575\\\\n  src\\\\\\\\app\\\\\\\\login\\\\\\\\login.component.scss 69:4  root stylesheet\\\");\\n\\n\\n })\\n\\n\\n \\t})[_ngcontent-%COMP%];\\n\\n\\n\\n \\t\\n\\n \\t//[_ngcontent-%COMP%]   startup\\n\\n[_ngcontent-%COMP%]   //[_ngcontent-%COMP%]   Load[_ngcontent-%COMP%]   entry[_ngcontent-%COMP%]   module[_ngcontent-%COMP%]   and[_ngcontent-%COMP%]   return[_ngcontent-%COMP%]   exports\\n\\n[_ngcontent-%COMP%]   //[_ngcontent-%COMP%]   This[_ngcontent-%COMP%]   entry[_ngcontent-%COMP%]   module[_ngcontent-%COMP%]   doesn't[_ngcontent-%COMP%]   tell[_ngcontent-%COMP%]   about[_ngcontent-%COMP%]   it's[_ngcontent-%COMP%]   top-level[_ngcontent-%COMP%]   declarations[_ngcontent-%COMP%]   so[_ngcontent-%COMP%]   it[_ngcontent-%COMP%]   can't[_ngcontent-%COMP%]   be[_ngcontent-%COMP%]   inlined\\n\\n[_ngcontent-%COMP%]   var[_ngcontent-%COMP%]   __webpack_exports__[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] {};\\n\\n \\t__webpack_modules__[805]();\\n\\n \\tresource = __webpack_exports__;\\n\\n \\t\\n\\n })()\\n;\"]\n});","map":{"version":3,"names":["FormControl","FormGroup","Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r2","errorMessage","LoginComponent","constructor","router","authService","ngOnInit","loginForm","username","email","required","password","pattern","onSubmit","valid","value","signIn","subscribe","resData","console","log","navigate","error","reset","ɵɵdirectiveInject","i1","Router","i2","AuthService","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵelement","ɵɵlistener","LoginComponent_Template_form_submit_5_listener","ɵɵtemplate","LoginComponent_span_22_Template","LoginComponent_span_27_Template","LoginComponent_span_28_Template","ɵɵproperty","tmp_1_0","get","touched","tmp_2_0"],"sources":["E:\\Web\\academy-project\\src\\app\\login\\login.component.ts","E:\\Web\\academy-project\\src\\app\\login\\login.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from '../auth.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  errorMessage: any;\r\n  constructor(private router: Router, private authService: AuthService){}\r\n  loginForm!: FormGroup;\r\n\r\n\r\n  ngOnInit() {\r\n    this.loginForm = new FormGroup({\r\n      username: new FormControl(null,[Validators.email,Validators.required]),\r\n      password: new FormControl(null,[Validators.pattern('^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@#$%^&+=!])[a-zA-Z0-9@#$%^&+=!]{8,}$'),Validators.required])\r\n    });\r\n  }\r\n\r\n\r\n\r\n  onSubmit() {\r\n    if(this.loginForm.valid){\r\n      // this.router.navigate(['/login']);\r\n      // this.loggedIn=true;\r\n      const email = this.loginForm.value.username;\r\n      const password = this.loginForm.value.password;\r\n\r\n      this.authService.signIn(email, password).subscribe(resData => {\r\n        console.log(resData); \r\n        this.router.navigate(['/user']);\r\n      },\r\n      error => {\r\n        // console.log(error);\r\n        this.errorMessage = error;\r\n        this.loginForm.reset();\r\n      }\r\n      );\r\n    }\r\n\r\n  }\r\n}\r\n","<div class=\"login-container\">\r\n  <img class=\"roll\" src=\"../assets/bus-white.jpg\" alt=\"bus\" />\r\n  <div class=\"logo\">Go Travel</div>\r\n  <div>\r\n    <form [formGroup]=\"loginForm\" (submit)=\"onSubmit()\">\r\n      <div class=\"login-form\">\r\n        <nav class=\"navbar navbar-expand navbar-light\">\r\n          <ul class=\"navbar-nav\">\r\n            <li class=\"nav-item\" routerLinkActive=\"active\">\r\n              <a class=\"nav-link\" routerLink=\"/login\">Login</a>\r\n            </li>\r\n            <li class=\"nav-item\" routerLinkActive=\"active\">\r\n              <a class=\"nav-link\" routerLink=\"/signup\">Sign Up</a>\r\n            </li>\r\n            <li class=\"nav-item\" routerLinkActive=\"active\">\r\n              <a class=\"nav-link\" routerLink=\"/adminLogin\">Admin</a>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n        <div class=\"form-group\">\r\n          <label for=\"username\">User Name</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"username\"\r\n            formControlName=\"username\"\r\n            placeholder=\"Enter your email\"\r\n            class=\"form-control\"\r\n          />\r\n          <span\r\n            *ngIf=\"\r\n              !loginForm.get('username')?.valid &&\r\n              loginForm.get('username')?.touched\r\n            \"\r\n            class=\"help-block\"\r\n            >Please Enter a valid UserName!</span\r\n          >\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"password\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            formControlName=\"password\"\r\n            placeholder=\"Enter your Password\"\r\n            class=\"form-control\"\r\n          />\r\n          <span\r\n            *ngIf=\"\r\n              !loginForm.get('password')?.valid &&\r\n              loginForm.get('password')?.touched\r\n            \"\r\n            class=\"help-block\"\r\n            >Please Enter a valid Password!</span\r\n          >\r\n          <span\r\n    *ngIf=\"errorMessage\"\r\n    class=\"help-block\"\r\n    >{{errorMessage}}</span\r\n  >\r\n        </div>\r\n        <div class=\"btn-container\">\r\n          <button class=\"btn btn-dark\" type=\"submit\">Login</button>\r\n          <!-- <span \r\n              *ngIf=\"!loginForm?.valid && loginForm?.touched\"\r\n              class=\"help-block\">Please Enter valid Credentials!</span> -->\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n\r\n  <!-- abmin block -->\r\n</div>\r\n\r\n<!-- src=\"https://banner2.cleanpng.com/20180419/djw/kisspng-bus-mexico-coach-etn-car-luxury-bus-5ad963c3c0dc85.50170055152419629179.jpg\" -->\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}